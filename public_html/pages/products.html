<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Flowerly ‚Ä¢ S·∫£n ph·∫©m</title>
    <link
      rel="shortcut icon"
      href="https://cdn.pixabay.com/animation/2023/06/01/08/47/08-47-04-41__480.png"
      type="image/x-icon"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />

    <style>
      :root {
        --primary: #38a169;
        --primary-600: #2f855a;
        --soft-cream: #fff7f3;
      }

      body {
        background-color: #f8f9fa;
      }

      .navbar {
        background-color: rgba(255, 255, 255, 0.95) !important;
        backdrop-filter: blur(6px);
      }

      .nav-link.active,
      .nav-link:hover {
        color: var(--primary) !important;
      }

      .toolbar {
        background: white;
        border-radius: 10px;
        border: 1px solid #dee2e6;
      }

      .product-card {
        border: none;
        border-radius: 16px;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05);
        transition: all 0.3s ease-in-out;
        overflow: hidden;
      }

      .product-card:hover {
        transform: translateY(-6px);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      }

      .product-card img {
        height: 220px;
        object-fit: cover;
      }

      .badge-new {
        background: var(--primary);
      }

      .price {
        color: var(--primary);
        font-weight: 600;
      }

      .btn-buy {
        background: var(--primary);
        color: white;
      }

      .btn-buy:hover {
        background: var(--primary-600);
        color: white;
      }

      footer {
        background: #212529;
        color: white;
      }
    </style>
  </head>

  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light shadow-sm sticky-top">
      <div class="container">
        <a class="navbar-brand fw-semibold" href="../index.html">üå∏ Flowerly</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#nav"
          aria-label="M·ªü menu"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div id="nav" class="collapse navbar-collapse">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="../index.html">Trang ch·ªß</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="#">S·∫£n ph·∫©m</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="./gallery.html">B·ªô s∆∞u t·∫≠p</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#contact">Li√™n h·ªá</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Header -->
    <header class="py-5 text-center" style="background-color: var(--soft-cream)">
      <div class="container">
        <h1 class="display-6 fw-bold">T·∫•t c·∫£ s·∫£n ph·∫©m</h1>
        <p class="text-muted lead">
          Nh·ªØng b√≥ hoa t∆∞∆°i th·∫Øm ƒë∆∞·ª£c tuy·ªÉn ch·ªçn m·ªói ng√†y.
        </p>
      </div>
    </header>

    <!-- Main -->
    <main class="py-5">
      <div class="container">
        <!-- Toolbar -->
        <div class="toolbar p-3 mb-4">
          <form class="row g-3 align-items-center" id="filter-form">
            <div class="col-12 col-md-4">
              <div class="input-group">
                <span class="input-group-text bg-white">
                  <i class="bi bi-search"></i>
                </span>
                <input
                  id="search-input"
                  type="text"
                  class="form-control"
                  placeholder="T√¨m t√™n b√≥ hoa..."
                />
              </div>
            </div>
            <div class="col-6 col-md-3">
              <select id="category-select" class="form-select">
                <option value="all" selected>T·∫•t c·∫£ danh m·ª•c</option>
                <option value="Hoa h·ªìng">Hoa h·ªìng</option>
                <option value="Tulip">Tulip</option>
                <option value="C·∫©m t√∫ c·∫ßu">C·∫©m t√∫ c·∫ßu</option>
                <option value="Hoa h∆∞·ªõng d∆∞∆°ng">Hoa h∆∞·ªõng d∆∞∆°ng</option>
              </select>
            </div>
            <div class="col-6 col-md-3">
              <select id="sort-select" class="form-select">
                <option value="default" selected>S·∫Øp x·∫øp m·∫∑c ƒë·ªãnh</option>
                <option value="price-asc">Gi√° tƒÉng d·∫ßn</option>
                <option value="price-desc">Gi√° gi·∫£m d·∫ßn</option>
                <option value="newest">M·ªõi nh·∫•t</option>
              </select>
            </div>
            <div class="col-12 col-md-2">
              <button type="submit" class="btn btn-success w-100">
                <i class="bi bi-filter"></i> L·ªçc
              </button>
            </div>
          </form>
        </div>

        <!-- Product Grid -->
        <div
          id="product-grid"
          class="row g-4 row-cols-1 row-cols-sm-2 row-cols-lg-3"
        >
          <p id="no-results" class="text-center text-muted d-none">
            Kh√¥ng t√¨m th·∫•y s·∫£n ph·∫©m ph√π h·ª£p.
          </p>
        </div>

        <!-- Pagination -->
        <nav class="mt-5" aria-label="Ph√¢n trang">
          <ul class="pagination justify-content-center">
            <li class="page-item disabled">
              <a class="page-link">Tr∆∞·ªõc</a>
            </li>
            <li class="page-item active">
              <a class="page-link" href="#">1</a>
            </li>
            <li class="page-item">
              <a class="page-link" href="#">2</a>
            </li>
            <li class="page-item">
              <a class="page-link" href="#">Sau</a>
            </li>
          </ul>
        </nav>
      </div>
    </main>

    <!-- Footer -->
    <footer id="contact" class="text-center py-4">
      <div class="container">
        <small>¬© 2025 Flowerly ‚Ä¢ Thi·∫øt k·∫ø b·ªüi Nh√≥m 2</small>
      </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      // --- D·ªÆ LI·ªÜU S·∫¢N PH·∫®M ---
      const allProducts = [
        {
          id: 1,
          name: "Tulip S·∫Øc M√†u",
          price: 559000,
          category: "Tulip",
          image: "../images/HoaTulip.jpg",
          isNew: true,
          desc: "T∆∞∆°i tr·∫ª, r·ª±c r·ª° cho ng√†y ƒë·∫∑c bi·ªát.",
        },
        {
          id: 2,
          name: "H·ªìng Pastel Tinh Kh√¥i",
          price: 489000,
          category: "Hoa h·ªìng",
          image: "../images/Hoahongpastel.jpeg",
          isNew: false,
          desc: "Nh·∫π nh√†ng v√† tinh t·∫ø, h·ª£p sinh nh·∫≠t & k·ª∑ ni·ªám.",
        },
        {
          id: 3,
          name: "C·∫©m T√∫ C·∫ßu Xanh",
          price: 629000,
          category: "C·∫©m t√∫ c·∫ßu",
          image: "../images/Camtucau.jpg",
          isNew: false,
          desc: "Trang nh√£, ph√π h·ª£p khai tr∆∞∆°ng & ch√∫c m·ª´ng.",
        },
        {
          id: 4,
          name: "Hoa C∆∞·ªõi H·∫°nh Ph√∫c",
          price: 450000,
          category: "Hoa h∆∞·ªõng d∆∞∆°ng",
          image: "../images/Hoacuoi.png",
          isNew: true,
          desc: "Mang nƒÉng l∆∞·ª£ng t√≠ch c·ª±c v√† ni·ªÅm vui.",
        },
        {
          id: 5,
          name: "Hoa H·ªìng T·∫∑ng N√†ng",
          price: 510000,
          category: "Hoa h·ªìng",
          image: "../images/Hoahong.jpg",
          isNew: false,
          desc: "L√£ng m·∫°n, th·ªßy chung v√† ƒë·∫ßy m·ªông m∆°.",
        },
        {
          id: 6,
          name: "Hoa Sinh Nh·∫≠t T√¨nh Y√™u",
          price: 599000,
          category: "Hoa h·ªìng",
          image: "../images/Hoasinhnhatem.jpg",
          isNew: false,
          desc: "Bi·ªÉu t∆∞·ª£ng c·ªßa t√¨nh y√™u m√£nh li·ªát, vƒ©nh c·ª≠u.",
        },
      ];

      const productGrid = document.getElementById("product-grid");
      const noResults = document.getElementById("no-results");

      // --- HI·ªÇN TH·ªä S·∫¢N PH·∫®M ---
      function renderProducts(products) {
        productGrid.innerHTML = "";
        if (products.length === 0) {
          noResults.classList.remove("d-none");
          return;
        } else {
          noResults.classList.add("d-none");
        }

        products.forEach((p) => {
          const col = document.createElement("div");
          col.className = "col";
          col.innerHTML = `
            <div class="card product-card h-100 fade show">
              ${
                p.isNew
                  ? `<span class="badge position-absolute top-0 end-0 m-2 badge-new">M·ªõi</span>`
                  : ""
              }
              <img src="${p.image}" class="card-img-top" alt="${p.name}" />
              <div class="card-body d-flex flex-column">
                <h5 class="card-title">${p.name}</h5>
                <p class="card-text text-muted flex-grow-1">${p.desc}</p>
                <div class="d-flex justify-content-between align-items-center">
                  <span class="price">${p.price.toLocaleString("vi-VN")}‚Ç´</span>
                  <a href="product-detail.html?id=${
                    p.id
                  }" class="btn btn-buy btn-sm">
                    <i class="bi bi-cart"></i> Xem s·∫£n ph·∫©m
                  </a>
                </div>
              </div>
            </div>`;
          productGrid.appendChild(col);
        });
      }

      renderProducts(allProducts);

      // --- L·ªåC & S·∫ÆP X·∫æP ---
      document
        .getElementById("filter-form")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          const search = document
            .getElementById("search-input")
            .value.toLowerCase();
          const cat = document.getElementById("category-select").value;
          const sort = document.getElementById("sort-select").value;

          let filtered = [...allProducts];

          if (search)
            filtered = filtered.filter((p) =>
              p.name.toLowerCase().includes(search)
            );

          if (cat !== "all")
            filtered = filtered.filter((p) => p.category === cat);

          switch (sort) {
            case "price-asc":
              filtered.sort((a, b) => a.price - b.price);
              break;
            case "price-desc":
              filtered.sort((a, b) => b.price - a.price);
              break;
            case "newest":
              filtered.sort((a, b) => b.id - a.id);
              break;
          }

          renderProducts(filtered);
        });
    </script>
  </body>
</html>
